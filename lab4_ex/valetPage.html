<!DOCTYPE html>
<html>
<head>
    <title>Valet</title>
    <script>ShowPage(0);</script>
</head>
<body>
    <!--logo-->
    <img src="logoParkIT.png" alt="logo" style=" border: none; padding: 12px 16px; cursor: pointer;
    position: absolute; bottom: 0px; right: 30px;">

    <!--nav bar-->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">ParkIT</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor03" aria-controls="navbarColor03" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarColor03">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#" onclick="ShowPage(0)">Home<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" onclick="ShowPage(2)">Requests</a>
                </li>
            </ul>
        </div>
        <div class="collapse navbar-collapse" id="search">
            <form class="form-inline my-2 my-lg-0">
                <input class="form-control mr-sm-2" type="text" placeholder="Search" id="myInput" onkeyup="searchFunc(); ShowPage(1);">
                <button type="submit" class="btn btn-success">Search</button>
            </form>
        </div>
    </nav>

    <div id="valet">

        <!--HomePage-->
        <div class="page" id="HomePAge">
             <script>
                async function addValetDriversTableWrap() {
                    valetDrivers = await getDrivers();
                    addValetDriversTable();
                }
                addValetDriversTableWrap();
            </script>

            <div id="chartContainer" style="height: 700px; width: 1200px"></div>
 
            <script>
                window.onload = createChart();
            </script> 
        </div>

        <!--driversDynamicTable-->
        <div class="page" id="valetDriversDynamicTable" style="overflow: auto; height: 300px">
            <div>
                <p>
                    <br />
                </p>
            </div>
            <table id="valetDriversTable">
                <tbody id="valetDriversTableBody"></tbody>
            </table>
            <script>
                function searchFunc() {
                    var input, filter, table, tr, td, i, txtValue;
                    input = document.getElementById("myInput");
                    filter = input.value.toUpperCase(); //no perform a case-sensitive search
                    table = document.getElementById("valetDriversTable");
                    tr = table.getElementsByTagName("tr");
                    for (i = 0; i < tr.length; i++) {
                        td = tr[i].getElementsByTagName("td")[1]; //[1] filter by...
                        if (td) {
                            txtValue = td.textContent || td.innerText;
                            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                tr[i].style.display = "";
                            } else {
                                tr[i].style.display = "none";
                            }
                        }
                    }
                }
            </script>
        </div>

        <!--requestsDynamicTable-->
        <div class="page" id="requestsTableDiv" style="overflow: auto; height: 700px">
            <div>
                <p style="font-size:10px">
                        <br>
                </p>
            </div>
            <table id="requestsTable">
                <tbody id="requestsTableBody"></tbody>
            </table>
            <script>
                async function addRequestsTableWrap() {
                    requests = await getRequests();
                    addRequestsTable();
                }
                addRequestsTableWrap();
            </script>
            <div id="pop" class="pop" title="Driver Request"></div>
        </div>
    </div>
</body>
</html>